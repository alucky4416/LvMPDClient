# LvMPDClient

## 概要
MPD(MusicPlayerDaemon)のクライアント LabVIEW版。
MPDについては、https://www.musicpd.org/ を参照ください。

## 動作環境
LabVIEW 2012
  TCP通信などLabVIEW標準ライブラリしか使っていないので、
LabVIEWの環境さえあれば、動作させることができると思います。
EXEで動作させる場合には、LabVIEW 2012 RuntimeEngine が必要。

## 使い方

### 起動とMPDサーバ接続
  起動するとすぐにMPD接続画面が表示されますので、MPDサーバの
IPとポート番号を指定して、「Connect」ボタンを押してください。
「Test Connect」ボタンで、接続確認できます。
Exitボタンを押すと終了します。
接続に成功すると、メイン画面に移行します。
  このソフトでは複数のMPDサーバを登録して切り替えたりすることは
できません。

### FilesからPlaylistへ再生したい曲を登録
  Filesに表示されているフォルダ名かファイル名を右クリックして、
"Add to Playlist"メニューが選択すると、Playlistに追加されます。
フォルダ名を選択すると、フォルダに含まれているファイルがすべて
追加されます。
  Filesに何も表示されない場合は、メニュー>>Database>>Updateを
実行してください。MPDサーバ側のデータベースが更新されます。

### 再生・停止操作
画面左下ボタンを押すと再生・停止・ポーズ・次・前の操作ができます。
Playボタンを押すと、Playlistに登録された曲が再生されます。
Playlistから指定したい曲のタイトルを右クリックして"Play to here"
を選択すると、その曲から再生できます。
画面右下ボリュームで、音量が変更できます。MPDサーバによりできない
場合があります。
曲の途中からの再生 - 未実装。

### Filesに表示されるファイル
現在は、MPDサーバ側のローカルに保存されたファイルでしか確認して
いません。

### Playlist保存・読込
未実装。

### 再生オプション
メニュー>>Edit>>PlaybackOptionで設定できます。

設定項目
* crossfade - クロスフェード
* consume - 再生後Playlistから削除
* random - ランダム再生
* repeat - 繰り返し再生
* single - 1曲だけ再生


## トラブルシューティング

### PlaylistのTitleやArtistが文字化けする。
  MPDサーバ側においてあるMP3ファイルのMP3タグがシフトJISで
登録されている可能性があります。Windows用ソフトでMP3タグを
設定すると、シフトJISになる場合が多いようです。
MP3タグをUTF-16で設定することをお勧めします。

### 通信エラーが起きるとすぐに接続画面が表示されてしまう。
再生中の進捗を表示するために、接続中は１秒間隔で、現在の状態を
取得するようjにしているため、通信エラーが発生すると切断された
と判断して、接続画面を表示します。

## ライセンス
GPL とします。

## 謝辞
  このソフトは、「SkyMPC」( http://www.soramimi.jp/skympc/ ) を
参考にして開発しています。
有用なソフトを公開していただきありがとうございます。
